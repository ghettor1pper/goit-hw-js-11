{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst gallery = document.querySelector('.gallery');\nvar lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\nconst form = document.querySelector('.form');\nconst loader = document.querySelector(`.loader`);\nfunction handleClickSearch(event) {\n  event.preventDefault();\n  const searchTerm = form.elements.searchBar.value;\n  if (!searchTerm) {\n    alert`Please enter something to search for!`;\n    return;\n  }\n  gallery.innerHTML = '';\n  loader.classList.remove('hidden');\n  const searchParams = new URLSearchParams({\n    key: '42800487-0338ab50e10ef15f71fc3313e',\n    q: `${searchTerm.trim()}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n  console.log(searchParams.toString()); // \"_limit=5&_sort=name\"\n  const url = `https://pixabay.com/api/?${searchParams}`;\n  console.log(url); // \"<https://jsonplaceholder.typicode.com/users?_limit=5&_sort=name>\"\n  const options = {\n    method: 'GET',\n  };\n  fetch(url, options)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      console.log(response);\n      return response.json();\n    })\n    .then(data => {\n      const hits = data.hits;\n      if (hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n      const markup = hits\n        .map(\n          hit =>\n            `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${hit.largeImageURL}\">\n      <img\n        class=\"gallery-image\"\n        src=\"${hit.previewURL}\"\n        alt=\"${hit.tags}\"\n      />\n    </a>\n    <div class=\"description\">\n                        <div class=\"field\">\n                        <span class=\"label\"><b>Likes</b></span>\n                        <span class=\"value\">${hit.likes}</span>\n                        </div>\n                        <div  class=\"field\">\n                        <span class=\"label\"><b>Views</b></span>\n                        <span class=\"value\">${hit.views}</span>\n                        </div>\n                        <div  class=\"field\">\n                        <span class=\"label\"><b>Comments</b></span>\n                        <span class=\"value\">${hit.comments}</span>\n                        </div>\n                        <div  class=\"field\">\n                        <span class=\"label\"><b>Downloads</b></span>\n                        <span class=\"value\">${hit.downloads}</span>\n                        </div>\n                    </div>\n  </li>\n  `\n        )\n        .join('');\n      gallery.insertAdjacentHTML('afterbegin', markup);\n      lightbox.refresh();\n    })\n\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => loader.classList.add('hidden'));\n}\nform.addEventListener('submit', handleClickSearch);\n"],"names":["gallery","lightbox","SimpleLightbox","form","loader","handleClickSearch","event","searchTerm","searchParams","url","response","data","hits","iziToast","markup","hit","error"],"mappings":"6vBAMA,MAAMA,EAAU,SAAS,cAAc,UAAU,EACjD,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAChB,CAAC,EACD,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,SAAS,EAC/C,SAASC,EAAkBC,EAAO,CAChCA,EAAM,eAAc,EACpB,MAAMC,EAAaJ,EAAK,SAAS,UAAU,MAC3C,GAAI,CAACI,EAAY,CACf,6CACA,MACD,CACDP,EAAQ,UAAY,GACpBI,EAAO,UAAU,OAAO,QAAQ,EAChC,MAAMI,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAG,GAAGD,EAAW,KAAM,CAAA,GACvB,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EACD,QAAQ,IAAIC,EAAa,SAAU,CAAA,EACnC,MAAMC,EAAM,4BAA4BD,CAAY,GACpD,QAAQ,IAAIC,CAAG,EAIf,MAAMA,EAHU,CACd,OAAQ,KACZ,CACoB,EACf,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,eAAQ,IAAIA,CAAQ,EACbA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,MAAMC,EAAOD,EAAK,KAClB,GAAIC,EAAK,SAAW,EAAG,CACrBC,EAAS,MAAM,CACb,QACE,0EACZ,CAAS,EACD,MACD,CACD,MAAMC,EAASF,EACZ,IACCG,GACE;AAAA,oCACwBA,EAAI,aAAa;AAAA;AAAA;AAAA,eAGtCA,EAAI,UAAU;AAAA,eACdA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAMuBA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,8CAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,8CAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,8CAIZA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA,GAKlD,EACA,KAAK,EAAE,EACVf,EAAQ,mBAAmB,aAAcc,CAAM,EAC/Cb,EAAS,QAAO,CACtB,CAAK,EAEA,MAAMe,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAMZ,EAAO,UAAU,IAAI,QAAQ,CAAC,CACjD,CACAD,EAAK,iBAAiB,SAAUE,CAAiB"}