{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\n\r\nconst gallery = document.querySelector('.gallery');\r\nconst lightbox = new SimpleLightbox('.gallery a', {});\r\n\r\nexport function clearGallery() {\r\n  gallery.innerHTML = '';\r\n}\r\n\r\nexport function renderGallery(images) {\r\n  const markup = images\r\n    .map(image =>\r\n        `<li class=\"gallery-item\">\r\n      <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\r\n        <img\r\n          class=\"gallery-image\"\r\n          src=\"${image.previewURL}\"\r\n        />\r\n      </a>\r\n      <div class=\"description\">\r\n        <div class=\"field\">\r\n          <span class=\"label\">Likes</span>\r\n          <span class=\"value\">${image.likes}</span>\r\n        </div>\r\n        <div  class=\"field\">\r\n          <span class=\"label\">Views</span>\r\n          <span class=\"value\">${image.views}</span>\r\n        </div>\r\n        <div  class=\"field\">\r\n          <span class=\"label\">Comments</span>\r\n          <span class=\"value\">${image.comments}</span>\r\n        </div>\r\n        <div  class=\"field\">\r\n          <span class=\"label\">Downloads</span>\r\n          <span class=\"value\">${image.downloads}</span>\r\n        </div>\r\n      </div>\r\n    </li>`\r\n    )\r\n    .join('');\r\n  gallery.insertAdjacentHTML('afterbegin', markup);\r\n  lightbox.refresh();\r\n}","\nexport async function searchImages(searchTerm) {\n  const searchParams = new URLSearchParams({\n    key: '42800487-0338ab50e10ef15f71fc3313e',\n    q: `${searchTerm.trim()}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n  console.log(searchParams.toString());\n  const url = `https://pixabay.com/api/?${searchParams}`;\n  console.log(url);\n  const options = {\n    method: 'GET',\n  };\n  return await fetch(url, options)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      console.log(response);\n      return response.json();\n    })\n    .then(data => {\n      return { images: data.hits, totalImages: data.totalHits };\n    });\n}","import { clearGallery, renderGallery } from './js/render-functions.js';\r\nimport iziToast from 'izitoast';\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\nimport { searchImages } from './js/pixabay-api.js';\r\n\r\nconst form = document.querySelector('.form');\r\nconst loader = document.querySelector(`.loader`);\r\n\r\nasync function handleClickSearch(event) {\r\n  event.preventDefault();\r\n  const searchTerm = form.elements.searchBar.value;\r\n  if (!searchTerm) {\r\n    alert`Please enter something to search for!`;\r\n    return;\r\n  }\r\n  loader.classList.remove('hidden');\r\n  const { images, totalImages } = await searchImages(searchTerm.trim());\r\n  loader.classList.add('hidden');\r\n  clearGallery();\r\n  if (images.length === 0) {\r\n    iziToast.show({\r\n      message: 'Sorry, there are no images matching your search query. Please try again!',\r\n    });\r\n    return;\r\n  }\r\n  renderGallery(images);\r\n}\r\n\r\nform.addEventListener('submit', handleClickSearch);\r\n"],"names":["gallery","lightbox","SimpleLightbox","clearGallery","renderGallery","images","markup","image","searchImages","searchTerm","searchParams","url","response","data","form","loader","handleClickSearch","event","totalImages","iziToast"],"mappings":"6vBAGA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,IAAIC,EAAe,aAAc,CAAE,CAAA,EAE7C,SAASC,GAAe,CAC7BH,EAAQ,UAAY,EACtB,CAEO,SAASI,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IAAIE,GACD;AAAA,sCAC8BA,EAAM,aAAa;AAAA;AAAA;AAAA,iBAGxCA,EAAM,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAMDA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,gCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,gCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,gCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,UAI1C,EACA,KAAK,EAAE,EACVP,EAAQ,mBAAmB,aAAcM,CAAM,EAC/CL,EAAS,QAAO,CAClB,CC1CO,eAAeO,EAAaC,EAAY,CAC7C,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAG,GAAGD,EAAW,KAAM,CAAA,GACvB,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EACD,QAAQ,IAAIC,EAAa,SAAU,CAAA,EACnC,MAAMC,EAAM,4BAA4BD,CAAY,GACpD,eAAQ,IAAIC,CAAG,EAIR,MAAM,MAAMA,EAHH,CACd,OAAQ,KACZ,CACiC,EAC5B,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,eAAQ,IAAIA,CAAQ,EACbA,EAAS,MACtB,CAAK,EACA,KAAKC,IACG,CAAE,OAAQA,EAAK,KAAM,YAAaA,EAAK,WAC/C,CACL,CCrBA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,SAAS,EAE/C,eAAeC,EAAkBC,EAAO,CACtCA,EAAM,eAAc,EACpB,MAAMR,EAAaK,EAAK,SAAS,UAAU,MAC3C,GAAI,CAACL,EAAY,CACf,6CACA,MACD,CACDM,EAAO,UAAU,OAAO,QAAQ,EAChC,KAAM,CAAE,OAAAV,EAAQ,YAAAa,CAAa,EAAG,MAAMV,EAAaC,EAAW,KAAI,CAAE,EAGpE,GAFAM,EAAO,UAAU,IAAI,QAAQ,EAC7BZ,IACIE,EAAO,SAAW,EAAG,CACvBc,EAAS,KAAK,CACZ,QAAS,0EACf,CAAK,EACD,MACD,CACDf,EAAcC,CAAM,CACtB,CAEAS,EAAK,iBAAiB,SAAUE,CAAiB"}